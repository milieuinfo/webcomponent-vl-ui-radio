import{vlElement,define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";export const vlRadioGroup={setKeyEventsRegistered(){this._parentElement().setAttribute("data-vl-key-events-registered","")},hasKeyEventsRegistered(){return this._parentElement().hasAttribute("data-vl-key-events-registered")},setFocusTransmitted(){this._parentElement().setAttribute("data-vl-focus-transmitted","")},hasFocusTransmitted(){return this._parentElement().hasAttribute("data-vl-focus-transmitted")},registerKeyEvents(e){if(!this.hasKeyEventsRegistered()){const t={left:37,up:38,right:39,down:40};this._parentElement().addEventListener("keydown",s=>{const i=e.filter(e=>!e.disabled);if(Object.values(t).includes(s.keyCode)){s.preventDefault();const e=i.find(e=>e.hasFocus),n=i[0],r=i[i.length-1];switch(s.keyCode){case t.up:case t.left:(i[i.indexOf(e)-1]||r).check();break;case t.down:case t.right:(i[i.indexOf(e)+1]||n).check();break}}})}this.setKeyEventsRegistered()},transmitFocus(e){if(!this.hasFocusTransmitted()){const t=this._parentElement();t.addEventListener("focus",()=>{t.addEventListener("keyup",e=>{if(e.shiftKey){const e=s.find(e=>e.checked),t=s[s.length-1];(e||t).focus()}},{once:!0});const s=e.filter(e=>!e.disabled),i=s.find(e=>e.checked),n=s[0];(i||n)&&(i||n).focus()})}this.setFocusTransmitted()},_parentElement(){return this.parentElement||this.getRootNode().host}};export class VlRadioGroup extends(vlElement(HTMLElement)){constructor(){super("<slot></slot>"),Object.assign(this,vlRadioGroup)}connectedCallback(){this._groupRadios(),this._processTabIndex()}get radios(){return[...this.querySelectorAll("vl-radio")]}_groupRadios(){this.radios.forEach(e=>e.setAttribute("data-vl-name","radio"))}_processTabIndex(){this.tabIndex=0,this.radios.forEach(e=>e.addEventListener("focus",()=>this.tabIndex=-1)),this.radios.forEach(e=>e.addEventListener("blur",()=>this.tabIndex=0))}}define("vl-radio-group",VlRadioGroup);